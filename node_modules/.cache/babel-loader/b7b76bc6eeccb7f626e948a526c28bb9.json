{"ast":null,"code":"import axios from \"axios\";\nimport store from \"./store\";\nimport { getConst } from \"../constants\";\n\nfunction sortAction(curType, curstate) {\n  return {\n    type: curType,\n    payload: curstate\n  };\n}\n\nconst fetchMovie = (url, page) => {\n  if (page - 1 < store.getState().wholeList.length) {\n    return {\n      type: getConst.GETMOVIE,\n      curPage: page\n    }; // return null\n  }\n\n  return dispatch => {\n    return axios.get(url).then(res => {\n      dispatch({\n        type: getConst.GETFETCH,\n        payload: res.data.results,\n        curPage: page\n      });\n    });\n  };\n};\n\nexport const actions = {\n  sortAction,\n  fetchMovie\n};","map":{"version":3,"names":["axios","store","getConst","sortAction","curType","curstate","type","payload","fetchMovie","url","page","getState","wholeList","length","GETMOVIE","curPage","dispatch","get","then","res","GETFETCH","data","results","actions"],"sources":["C:/Users/Yuehan/Desktop/hw1/final-priject/react-movie/src/Redux/actionCreator.js"],"sourcesContent":["\r\nimport axios from \"axios\";\r\nimport store from \"./store\";\r\nimport { getConst } from \"../constants\";\r\n\r\n\r\n\r\n\r\nfunction sortAction(curType,curstate){\r\n    return{\r\n        type:curType,\r\n        payload :curstate\r\n    }\r\n}\r\n\r\n\r\nconst fetchMovie = (url,page) => {\r\n \r\n    if(page-1<store.getState().wholeList.length){\r\n        return{\r\n          type:getConst.GETMOVIE,\r\n          curPage :page\r\n        }\r\n\r\n        // return null\r\n    }\r\n\r\n\r\n    return(dispatch)=>{\r\n\r\n        \r\n\r\n      return axios.get(url).then((res) => {\r\n        dispatch({\r\n            type:getConst.GETFETCH,\r\n            payload:res.data.results,\r\n            curPage:page\r\n        })\r\n      });\r\n\r\n    }\r\n  };\r\n\r\nexport const actions = {\r\n    sortAction,\r\n    fetchMovie\r\n  };\r\n\r\n\r\n\r\n"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;;AAKA,SAASC,UAAT,CAAoBC,OAApB,EAA4BC,QAA5B,EAAqC;EACjC,OAAM;IACFC,IAAI,EAACF,OADH;IAEFG,OAAO,EAAEF;EAFP,CAAN;AAIH;;AAGD,MAAMG,UAAU,GAAG,CAACC,GAAD,EAAKC,IAAL,KAAc;EAE7B,IAAGA,IAAI,GAAC,CAAL,GAAOT,KAAK,CAACU,QAAN,GAAiBC,SAAjB,CAA2BC,MAArC,EAA4C;IACxC,OAAM;MACJP,IAAI,EAACJ,QAAQ,CAACY,QADV;MAEJC,OAAO,EAAEL;IAFL,CAAN,CADwC,CAMxC;EACH;;EAGD,OAAOM,QAAD,IAAY;IAIhB,OAAOhB,KAAK,CAACiB,GAAN,CAAUR,GAAV,EAAeS,IAAf,CAAqBC,GAAD,IAAS;MAClCH,QAAQ,CAAC;QACLV,IAAI,EAACJ,QAAQ,CAACkB,QADT;QAELb,OAAO,EAACY,GAAG,CAACE,IAAJ,CAASC,OAFZ;QAGLP,OAAO,EAACL;MAHH,CAAD,CAAR;IAKD,CANM,CAAP;EAQD,CAZD;AAaD,CAzBH;;AA2BA,OAAO,MAAMa,OAAO,GAAG;EACnBpB,UADmB;EAEnBK;AAFmB,CAAhB"},"metadata":{},"sourceType":"module"}