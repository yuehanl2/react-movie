{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yuehan\\\\Desktop\\\\hw1\\\\final-priject\\\\react-movie\\\\src\\\\containers\\\\Homepage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Spinner from 'react-bootstrap/Spinner';\nimport '../App.css';\nimport { getConst } from '../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Homepage() {\n  _s();\n\n  const [imgs, setImags] = useState([]);\n  const [index, setIndex] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    setIsLoading(true);\n    const timer = setTimeout(() => {\n      fetchHeros();\n    }, 2000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const fetchHeros = async () => {\n    try {\n      const res = await fetch(getConst.API_URL);\n      const data = await res.json();\n      setImags(data.results.slice(0, 5)); // console.log(imgs);\n\n      setIsLoading(false);\n    } catch (err) {\n      // console.log(err);\n      setIsLoading(false);\n    }\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n  const handleSelect = () => {\n    if (index === imgs.length - 1) {\n      setIndex(0);\n    } else {\n      setIndex(index + 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"carousel\",\n    children: /*#__PURE__*/_jsxDEV(Carousel, {\n      onSelect: handleSelect,\n      variant: \"dark\",\n      style: {\n        margin: 'auto',\n        width: '85%',\n        height: '80%',\n        marginTop: '2em',\n        opacity: '0.9'\n      },\n      children: /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        interval: 3000,\n        children: [imgs.length !== 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"sd-block w-100\",\n          src: `${getConst.IMG_URL + imgs[index].backdrop_path}`,\n          alt: \"slide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n          children: [' ', /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: imgs.length !== 0 && imgs[index].title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Homepage, \"VC2EvqGyDRvyedhvxr/NyFIYs9w=\");\n\n_c = Homepage;\nexport default Homepage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"names":["React","useState","useEffect","Carousel","Spinner","getConst","Homepage","imgs","setImags","index","setIndex","isLoading","setIsLoading","timer","setTimeout","fetchHeros","clearTimeout","res","fetch","API_URL","data","json","results","slice","err","handleSelect","length","margin","width","height","marginTop","opacity","IMG_URL","backdrop_path","title"],"sources":["C:/Users/Yuehan/Desktop/hw1/final-priject/react-movie/src/containers/Homepage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport Carousel from 'react-bootstrap/Carousel';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport '../App.css';\r\nimport { getConst } from '../constants';\r\n\r\nfunction Homepage() {\r\n  const [imgs, setImags] = useState([]);\r\n  const [index, setIndex] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const timer = setTimeout(() => {\r\n      fetchHeros();\r\n    }, 2000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  const fetchHeros = async () => {\r\n    try {\r\n      const res = await fetch(getConst.API_URL);\r\n      const data = await res.json();\r\n      setImags(data.results.slice(0, 5));\r\n      // console.log(imgs);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      // console.log(err);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"loader\">\r\n        <Spinner animation=\"border\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleSelect = () => {\r\n    if (index === imgs.length - 1) {\r\n      setIndex(0);\r\n    } else {\r\n      setIndex(index + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"carousel\">\r\n      <Carousel\r\n        onSelect={handleSelect}\r\n        variant=\"dark\"\r\n        style={{\r\n          margin: 'auto',\r\n          width: '85%',\r\n          height: '80%',\r\n          marginTop: '2em',\r\n          opacity: '0.9',\r\n        }}\r\n      >\r\n        <Carousel.Item interval={3000}>\r\n          {/* <Button>&lt;</Button> */}\r\n          {imgs.length !== 0 && (\r\n            <img\r\n              className=\"sd-block w-100\"\r\n              src={`${getConst.IMG_URL + imgs[index].backdrop_path}`}\r\n              alt=\"slide\"\r\n            />\r\n          )}\r\n          <Carousel.Caption>\r\n            {' '}\r\n            <h5>{imgs.length !== 0 && imgs[index].title}</h5>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Homepage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}