{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yuehan\\\\Desktop\\\\hw1\\\\final-priject\\\\react-movie\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport MovieList from './containers/MovieList';\nimport LikeList from './containers/LikeList';\nimport Homepage from './containers/Homepage';\nimport Header from './components/Header';\nimport BlockList from './containers/BlockList';\nimport store from './Redux/store';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [movieList, setmovieList] = useState([]);\n  const [likeList, setLikeList] = React.useState([]);\n  const [blockList, setBlockList] = React.useState([]);\n  const [blockedIdList, setBlockedIdList] = React.useState(new Set());\n\n  const setLikeListFunction = list => {\n    Array.isArray(list) && localStorage.setItem('likeList', JSON.stringify(list));\n    Array.isArray(list) && setLikeList(list);\n  };\n\n  const setBlockListFunction = list => {\n    Array.isArray(list) && localStorage.setItem('blockList', JSON.stringify(list));\n    Array.isArray(list) && setBlockList(list);\n  };\n\n  useEffect(() => {\n    try {\n      const list = JSON.parse(localStorage.getItem('likeList'));\n\n      if (Array.isArray(list)) {\n        setLikeList(list);\n      }\n    } catch (e) {}\n\n    try {\n      const list = JSON.parse(localStorage.getItem('blockList'));\n      Array.isArray(list) && setBlockList(list);\n    } catch (e) {}\n  }, []);\n  useEffect(() => {\n    store.subscribe(() => {\n      let temp = [...store.getState().movieList];\n      setmovieList(temp);\n    });\n  }, []);\n  useEffect(() => {\n    const set = new Set(blockList.map(item => item.id));\n    setBlockedIdList(set);\n  }, [blockList]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Homepage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/movielist\",\n          element: /*#__PURE__*/_jsxDEV(MovieList, {\n            movieList: movieList,\n            likeList: likeList,\n            setLikeListFunction: setLikeListFunction,\n            blockList: blockList,\n            setBlockListFunction: setBlockListFunction,\n            blockedIdList: blockedIdList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/likelist\",\n          element: /*#__PURE__*/_jsxDEV(LikeList, {\n            movieList: movieList,\n            likeList: likeList,\n            setLikeListFunction: setLikeListFunction,\n            blockList: blockList,\n            setBlockListFunction: setBlockListFunction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/blocklist\",\n          element: /*#__PURE__*/_jsxDEV(BlockList, {\n            movieList: movieList,\n            likeList: likeList,\n            setLikeListFunction: setLikeListFunction,\n            blockList: blockList,\n            setBlockListFunction: setBlockListFunction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"8J0xGJranHmLbP5Yw5gfA38XgU0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","MovieList","LikeList","Homepage","Header","BlockList","store","App","movieList","setmovieList","likeList","setLikeList","blockList","setBlockList","blockedIdList","setBlockedIdList","Set","setLikeListFunction","list","Array","isArray","localStorage","setItem","JSON","stringify","setBlockListFunction","parse","getItem","e","subscribe","temp","getState","set","map","item","id"],"sources":["C:/Users/Yuehan/Desktop/hw1/final-priject/react-movie/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\n\r\nimport MovieList from './containers/MovieList';\r\nimport LikeList from './containers/LikeList';\r\nimport Homepage from './containers/Homepage';\r\nimport Header from './components/Header';\r\nimport BlockList from './containers/BlockList';\r\nimport store from './Redux/store';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\r\n  const [movieList, setmovieList] = useState([]);\r\n  const [likeList, setLikeList] = React.useState([])\r\n  const [blockList, setBlockList] = React.useState([])\r\n  const [blockedIdList, setBlockedIdList] = React.useState(new Set())\r\n\r\n\r\n\r\n  const setLikeListFunction = (list) => {\r\n    Array.isArray(list) && localStorage.setItem('likeList', JSON.stringify(list))\r\n    Array.isArray(list) && setLikeList(list)\r\n  }\r\n  const setBlockListFunction = (list) => {\r\n    Array.isArray(list) && localStorage.setItem('blockList', JSON.stringify(list))\r\n    Array.isArray(list) && setBlockList(list)\r\n  }\r\n  useEffect(() => {\r\n    \r\n    try {\r\n      const list = JSON.parse(localStorage.getItem('likeList'))\r\n      if (Array.isArray(list)) {\r\n        setLikeList(list)\r\n      }\r\n    } catch (e) {\r\n\r\n    }\r\n    try {\r\n      const list = JSON.parse(localStorage.getItem('blockList'))\r\n      Array.isArray(list) && setBlockList(list)\r\n    } catch (e) {\r\n\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n    store.subscribe(() => {    \r\n      let temp = [...store.getState().movieList];\r\n      setmovieList(temp);\r\n    });\r\n\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    const set = new Set(blockList.map(item => item.id))\r\n    setBlockedIdList(set)\r\n  }, [blockList])\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Header />\r\n        <Routes>\r\n          <Route path=\"/\" element={<Homepage />} />\r\n          <Route\r\n            path=\"/movielist\"\r\n            element={<MovieList\r\n              movieList={movieList}\r\n              likeList={likeList}\r\n              setLikeListFunction={setLikeListFunction}\r\n              blockList={blockList}\r\n              setBlockListFunction={setBlockListFunction}\r\n              blockedIdList={blockedIdList}\r\n            />}\r\n          />\r\n          <Route path=\"/likelist\" element={<LikeList\r\n            movieList={movieList}\r\n            likeList={likeList}\r\n            setLikeListFunction={setLikeListFunction}\r\n            blockList={blockList}\r\n            setBlockListFunction={setBlockListFunction}\r\n          />}\r\n\r\n          />\r\n          <Route path=\"/blocklist\" element={<BlockList\r\n            movieList={movieList}\r\n            likeList={likeList}\r\n            setLikeListFunction={setLikeListFunction}\r\n            blockList={blockList}\r\n            setBlockListFunction={setBlockListFunction}\r\n\r\n          />} />\r\n        </Routes>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}